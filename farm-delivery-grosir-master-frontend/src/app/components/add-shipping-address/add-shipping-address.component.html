<ion-header>
  <ion-item>
    <ion-label color="white">
      Tambah Alamat Pengiriman
    </ion-label>
    <ion-button (click)="closeModal()" color="danger">
      <ion-icon name="close-circle-sharp" color="white"></ion-icon>
    </ion-button>
  </ion-item>
</ion-header>

<ion-content>
  <form [formGroup]="shippingAddressForm">
    <!-- <ion-item lines="none" class="ion-no-padding name-item" color="transparent"> -->
    <ion-item class="first-name"
      [class.invalid]="!shippingAddressForm.controls.firstName.valid && (shippingAddressForm.controls.firstName.dirty || submitAttempt)">
      <ion-input type="text" placeholder="Nama depan *" name="firstName"
        [formControl]="shippingAddressForm.controls['firstName']" ngDefaultControl></ion-input>
    </ion-item>
    <ion-item class="last-name"
      [class.invalid]="!shippingAddressForm.controls.lastName.valid && (shippingAddressForm.controls.lastName.dirty || submitAttempt)">
      <ion-input type="text" placeholder="Nama belakang *" name="lastName"
        [formControl]="shippingAddressForm.controls['lastName']" ngDefaultControl></ion-input>
    </ion-item>
    <!-- </ion-item> -->
    <ion-item class="address-item"
      [class.invalid]="!shippingAddressForm.controls.address.valid && (shippingAddressForm.controls.address.dirty || submitAttempt)">
      <ion-textarea placeholder="Alamat *" name="address" [formControl]="shippingAddressForm.controls['address']"
        ngDefaultControl></ion-textarea>
    </ion-item>
    <!-- <ion-item lines="none"
      *ngIf="!shippingAddressForm.controls.address.valid && (shippingAddressForm.controls.address.dirty || submitAttempt)">
      <p class="error-msg">Silakan isi alamat email.</p>
    </ion-item> -->
    <ion-item class="town-item"
      [class.invalid]="!shippingAddressForm.controls.town.valid && (shippingAddressForm.controls.town.dirty || submitAttempt)">
      <ion-input placeholder="Nama Desa/Kelurahan *" type="text" name="town"
        [formControl]="shippingAddressForm.controls['town']" ngDefaultControl></ion-input>
    </ion-item>
    <ion-item class="town-item"
      [class.invalid]="!shippingAddressForm.controls.subdistrict.valid && (shippingAddressForm.controls.subdistrict.dirty || submitAttempt)">
      <ion-input type="text" placeholder="Nama Kecamatan *" name="subdistrict"
        [formControl]="shippingAddressForm.controls['subdistrict']" ngDefaultControl></ion-input>
    </ion-item>
    <ion-item class="area-item" [class.invalid]="shippingAddressForm.getRawValue().area !== areaName">
      <ion-label>Nama Kota *</ion-label>
      <ion-input type="text" name="area" [formControl]="shippingAddressForm.controls['area']" ngDefaultControl>
      </ion-input>
    </ion-item>
    <ion-item class="province-item" [class.invalid]="shippingAddressForm.getRawValue().province !== provinceName">
      <ion-label>Nama Provinsi *</ion-label>
      <ion-input type="text" name="province" [formControl]="shippingAddressForm.controls['province']" ngDefaultControl>
      </ion-input>
    </ion-item>
    <ion-item class="phone-item"
      [class.invalid]="!shippingAddressForm.controls.phoneNum.valid && (shippingAddressForm.controls.phoneNum.dirty || submitAttempt)">
      <ion-label>+62</ion-label>
      <ion-input type="tel" placeholder="Nomor hp atau Whatsapp *" name="phoneNum"
        [formControl]="shippingAddressForm.controls['phoneNum']" ngDefaultControl></ion-input>
    </ion-item>
    <ion-item lines="none" class="postal-code-item"
      [class.invalid]="!shippingAddressForm.controls.postalCode.valid && (shippingAddressForm.controls.postalCode.dirty || submitAttempt)">
      <ion-label>Kode POS *</ion-label>
      <ion-select placeholder="Pilih Kode POS" name="postalCode" (ionChange)="onChange($event)"
        [formControl]="shippingAddressForm.controls['postalCode']" ngDefaultControl>
        <ion-select-option *ngFor="let pincode of postalCodes" [value]="pincode">{{pincode}}</ion-select-option>
      </ion-select>
    </ion-item>
  </form>
</ion-content>

<ion-footer>
  <ion-label>* - Wajib diisi</ion-label>
  <div class="btn-submit">
    <ion-button (click)="onClickAddShippingAddress()" color="darkgreen">Tambah Alamat</ion-button>
  </div>
</ion-footer>